import{jsx as _jsx}from"react/jsx-runtime";import{addPropertyControls,ControlType,RenderTarget}from"framer";import{useEffect,useRef,useMemo}from"react";import{useMotionValue,useSpring}from"framer-motion";/** * @framerSupportedLayoutWidth auto * @framerSupportedLayoutHeight
auto * * @framerDisableUnlink */export default function ParallaxFloating(props){const{distance,direction,smoothing,enabled}=props;const isCanvas=RenderTarget.current()===RenderTarget.canvas;const id=generateInstanceId();const transition={damping:100,stiffness:mapRange(smoothing,0,100,2e3,50)};const
offset=distance*(direction==="away"?-1:1);const mouseX=useMotionValue(0);const mouseY=useMotionValue(0);const x=useMotionValue(0);const y=useMotionValue(0);const springX=useSpring(x,transition);const springY=useSpring(y,transition);const ref=useRef(null);const
parentRef=useRef(null);const transformRef=useRef(null);const styleRef=useRef(null);const hasSpringRef=useRef(smoothing!==0);const previousXRef=useRef(null);const previousYRef=useRef(null);const previousStyleTransformRef=useRef(null);useEffect(()=>{const
unsubscribeX=mouseX.onChange(v=>x.set(enabled?v:0));const unsubscribeY=mouseY.onChange(v=>y.set(enabled?v:0));return()=>{unsubscribeX();unsubscribeY();};},[enabled,mouseX,mouseY,x,y]);useEffect(()=>{x.set(enabled?mouseX.get():0);y.set(enabled?mouseY.get():0);},[enabled]);useEffect(()=>{hasSpringRef.current=smoothing!==0;},[smoothing]);useEffect(()=>{let
animationFrameId;const updateTransform=()=>{if(isCanvas){return;}animationFrameId=requestAnimationFrame(updateTransform);if(!parentRef.current||!styleRef.current){return;}const xValue=(hasSpringRef.current?springX.get():x.get()).toFixed(3);const yValue=(hasSpringRef.current?springY.get():y.get()).toFixed(3);//
Get computed styles to capture all existing transforms const computedStyle=window.getComputedStyle(parentRef.current);const transform=calculateTransform(parentRef.current,computedStyle,xValue,yValue,previousXRef.current,previousYRef.current,previousStyleTransformRef.current);transformRef.current=transform;styleRef.current.textContent=`
[data-parallaxfloating="${id}"] { transform: ${transform} !important } `;// console.log(transform) previousXRef.current=xValue;previousYRef.current=yValue;previousStyleTransformRef.current=parentRef.current.style.transform;};if(ref.current){const container=ref.current.parentElement;if(container){const
parent=container.parentElement;if(parent){parentRef.current=parent;parent.setAttribute("data-parallaxfloating",id);}}}// Start the animation loop updateTransform();// Cleanup function return()=>{if(animationFrameId){cancelAnimationFrame(animationFrameId);}};},[]);useEffect(()=>{const
handleMouseMove=event=>{const mouseXPos=event.clientX;const mouseYPos=event.clientY;const centerX=window.innerWidth/2;const centerY=window.innerHeight/2;const normalizedX=(mouseXPos-centerX)/centerX*offset;const normalizedY=(mouseYPos-centerY)/centerY*offset;mouseX.set(normalizedX);mouseY.set(normalizedY);};window.addEventListener("mousemove",handleMouseMove);return()=>window.removeEventListener("mousemove",handleMouseMove);},[offset,smoothing,enabled]);return
/*#__PURE__*/_jsx("div",{ref:ref,style:{...props.style},children:/*#__PURE__*/_jsx("style",{ref:styleRef})});}ParallaxFloating.displayName="Parallax Floating";addPropertyControls(ParallaxFloating,{enabled:{type:ControlType.Boolean,defaultValue:true},direction:{type:ControlType.Enum,defaultValue:"away",options:["toward","away"],optionTitles:["Toward","Away"],displaySegmentedControl:true},distance:{type:ControlType.Number,title:"Speed",defaultValue:25,min:0,step:1,hidden:props=>!props.enabled},smoothing:{type:ControlType.Number,defaultValue:50,min:0,max:100,step:1,description:"More
components at [Framer University](https://frameruni.link/cc)."}});const CHARACTERS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";const generateInstanceId=()=>{const id=useMemo(()=>{let result="";for(let i=0;i
<13;i++){result+=CHARACTERS.charAt(Math.floor(Math.random()*CHARACTERS.length));}return
    result;},[]);return id;};function mapRange(value,fromLow,fromHigh,toLow,toHigh){if(fromLow===fromHigh){return toLow;}const percentage=(value-fromLow)/(fromHigh-fromLow);return toLow+percentage*(toHigh-toLow);}function calculateTransform(element,computedStyle,xValue,yValue,previousX,previousY,previousStyleTransform){xValue=xValue||0;yValue=yValue||0;previousX=previousX||0;previousY=previousY||0;//
    Get transform const computedTransform=computedStyle.transform;const styleTransform=element.style.transform;// Subtract previous values from current values for a single transform const finalX=xValue-previousX;const finalY=yValue-previousY;const translateTransform=`translate(${finalX}px,
    ${finalY}px)`;let transform=translateTransform;if(styleTransform&&styleTransform!=="none" ){if(previousStyleTransform&&previousStyleTransform!=="none" ){transform=`${translateTransform} ${invertTransform(previousStyleTransform)} ${styleTransform}`;}else{transform=`${translateTransform}
    ${styleTransform}`;}}return computedTransform&&computedTransform!=="none" ?`${transform} ${computedTransform}`:transform;}function invertTransform(transformString){const transforms=transformString.match(/\w+\([^)]+\)/g)||[];const invertedTransforms=transforms.reverse().map(transform=>{const[func,valuesString]=transform.match(/(\w+)\(([^)]+)\)/).slice(1);const values=valuesString.split(",").map(v=>v.trim());const invertNumber=v=>{const[_,sign,num,unit]=v.match(/^(-?)(\d*\.?\d+)(\D*)$/);return`${sign?"":"-"}${num}${unit}`;};switch(func.toLowerCase()){case"translate":case"translate3d":case"translatex":case"translatey":case"translatez":return`${func}(${values.map(invertNumber).join(",
    ")})`;case"scale":case"scale3d":return`${func}(${values.map(v=>1/parseFloat(v)).join(", ")})`;case"scalex":case"scaley":case"scalez":return`${func}(${1/parseFloat(values[0])})`;case"rotate":case"rotatex":case"rotatey":case"rotatez":return`${func}(${invertNumber(values[0])})`;case"rotate3d":const
    rotateValues=values.map(parseFloat);return`${func}(${rotateValues[0]}, ${rotateValues[1]}, ${rotateValues[2]}, ${invertNumber(values[3])})`;case"skew":case"skewx":case"skewy":return`${func}(${values.map(invertNumber).join(", ")})`;case"matrix":case"matrix3d":console.warn(`Inverting
    ${func} is not supported. Returning original.`);return transform;default:console.warn(`Unknown transform function: ${func}. Returning original.`);return transform;}});return invertedTransforms.join(" ");} export const __FramerMetadata__ = {"exports":{"default":{"type":"reactComponent","name":"ParallaxFloating","slots":[],"annotations":{"framerSupportedLayoutHeight":"auto","framerContractVersion":"1","framerDisableUnlink":"","framerSupportedLayoutWidth":"auto"}},"__FramerMetadata__":{"type":"variable"}}}
    //# sourceMappingURL=./ParallaxFloating_Prod.map